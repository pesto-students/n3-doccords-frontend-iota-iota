{"ast":null,"code":"var _jsxFileName = \"/Users/elango/Documents/pesto/iota-ninja3-doccords-frontend/src/pages/users/profiles/createProfile.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect, useSelector } from \"react-redux\";\nimport { Paper, makeStyles, Grid, Typography } from \"@material-ui/core\";\nimport Controls from \"../../../components/Form/controls/Controls\";\nimport { useForm, Form } from \"../../../components/Form/useForm\";\nimport UploadFile from \"components/shared/upload/uploadFile\";\nimport { fetchAllHealthTopics } from \"apiRequests/common\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport { createNewProfile } from \"apiRequests/user\";\nimport { useHistory } from \"react-router-dom\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport UploadAvatar from \"components/shared/upload/uploadAvatar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst genderItems = [{\n  id: \"male\",\n  title: \"Male\"\n}, {\n  id: \"female\",\n  title: \"Female\"\n}, {\n  id: \"other\",\n  title: \"Other\"\n}];\nconst healthIssuesList = [{\n  id: 1,\n  name: \"Cancer\",\n  status: false\n}, {\n  id: 2,\n  name: \"Diabetes\",\n  status: false\n}, {\n  id: 3,\n  name: \"Blood pressure\",\n  status: false\n}, {\n  id: 4,\n  name: \"Covid\",\n  status: true\n}];\n\nconst getRelationshipCollection = () => [{\n  id: 1,\n  title: \"Self\"\n}, {\n  id: 2,\n  title: \"Spouse\"\n}, {\n  id: 3,\n  title: \"Father\"\n}, {\n  id: 4,\n  title: \"Mother\"\n}, {\n  id: 5,\n  title: \"Brother\"\n}, {\n  id: 6,\n  title: \"Sister\"\n}, {\n  id: 7,\n  title: \"Child\"\n}, {\n  id: 8,\n  title: \"Others\"\n}];\n\nconst initialFValues = {\n  id: 0,\n  profileName: \"\",\n  email: \"\",\n  mobile: \"\",\n  age: \"\",\n  gender: \"male\",\n  relationship: 1,\n  // creationDate: new Date(),\n  cancer: false,\n  bloodPressure: false,\n  sugar: false,\n  covid: false\n};\nconst useStyles = makeStyles(theme => ({\n  pageContent: {\n    marginTop: \"3rem\",\n    margin: theme.spacing(3),\n    padding: theme.spacing(3)\n  }\n}));\n\nconst CreateProfile = ({\n  fetchAllHealthTopics,\n  healthTopics,\n  createNewProfile\n}) => {\n  _s();\n\n  const [documentData, setDocumentData] = useState({\n    name: \"\",\n    healthTopicId: \"\",\n    link: \"\"\n  });\n  const [healthTopicId, setHealthTopicId] = useState({});\n  const [profileName, setProfileName] = useState(\"\");\n  const [relationshipId, setRelationshipId] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [healthIssues, setHealthIssues] = useState(healthIssuesList);\n  const [errors, setErrors] = useState({});\n  const uploadedLink = useSelector(state => state.common.uploadedLink);\n  const [healthTopicsList, setHealthTopicsList] = useState([]);\n  const classes = useStyles();\n  const history = useHistory();\n\n  const generateHealthTopics = () => {\n    const healthTopicsArr = healthTopics.map(topic => ({\n      id: topic.healthTopicId,\n      title: topic.title\n    }));\n    return healthTopicsArr;\n  };\n\n  useEffect(() => {\n    fetchAllHealthTopics();\n    setGender(genderItems[0].id);\n    setRelationshipId(getRelationshipCollection()[0].id);\n  }, []);\n  useEffect(() => {\n    if (healthTopics.length > 0) {\n      setHealthTopicId(healthTopics[0].healthTopicId);\n      setHealthTopicsList(generateHealthTopics());\n    }\n  }, [healthTopics]);\n  useEffect(() => {\n    setDocumentData({ ...documentData,\n      link: uploadedLink\n    });\n  }, [uploadedLink]);\n\n  const onSubmit = () => {\n    createNewProfile({\n      document: documentData,\n      relationshipId,\n      profileName,\n      age,\n      email,\n      phone,\n      gender,\n      healthIssues\n    }, history);\n  };\n\n  const handleInputChange = e => {\n    if (e.target.name === \"document\") {\n      setDocumentData({ ...documentData,\n        name: e.target.value\n      });\n    }\n\n    if (e.target.name === \"topic\") {\n      setHealthTopicId(e.target.value);\n      setDocumentData({ ...documentData,\n        healthTopicId: e.target.value\n      });\n    }\n\n    if (e.target.name === \"relationship\") {\n      setRelationshipId(e.target.value);\n    }\n\n    if (e.target.name === \"profileName\") {\n      setProfileName(e.target.value);\n    }\n\n    if (e.target.name === \"email\") {\n      setEmail(e.target.value);\n    }\n\n    if (e.target.name === \"phone\") {\n      setPhone(e.target.value);\n    }\n\n    if (e.target.name === \"age\") {\n      setAge(e.target.value);\n    }\n\n    if (e.target.name === \"gender\") {\n      setGender(e.target.value);\n    }\n  };\n\n  const handleCheckbox = (e, issue) => {\n    let changedArray = [];\n\n    if (e.target.name === \"healthIssues\") {\n      changedArray = healthIssues.map(issueSingle => {\n        if (issue.id === issueSingle.id) {\n          issueSingle.status = e.target.checked;\n        }\n\n        return issueSingle;\n      });\n    }\n\n    setHealthIssues(changedArray);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 12,\n          lg: 12,\n          xl: 12,\n          children: [/*#__PURE__*/_jsxDEV(UploadAvatar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Controls.Input, {\n              name: \"profileName\",\n              label: \"Profile name *\",\n              value: profileName,\n              onChange: handleInputChange,\n              error: errors.profileName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Controls.Select, {\n              name: \"relationship\",\n              label: \"Relationship\",\n              value: relationshipId,\n              onChange: handleInputChange,\n              options: getRelationshipCollection(),\n              error: errors.relationship\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n              label: \"Email\",\n              name: \"email\",\n              value: email,\n              onChange: handleInputChange,\n              error: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n              label: \"Phone\",\n              name: \"phone\",\n              value: phone,\n              onChange: handleInputChange,\n              error: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Controls.Input, {\n              name: \"age\",\n              label: \"Age\",\n              value: age,\n              onChange: handleInputChange,\n              error: errors.age\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: [/*#__PURE__*/_jsxDEV(Controls.RadioGroup, {\n              name: \"gender\",\n              label: \"Gender\",\n              value: gender,\n              onChange: handleInputChange,\n              items: genderItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.root,\n              children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n                multiple: true,\n                limitTags: 2,\n                id: \"multiple-limit-tags\",\n                options: healthIssues,\n                getOptionLabel: option => option.title,\n                defaultValue: [],\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                  variant: \"outlined\",\n                  label: \"limitTags\",\n                  placeholder: \"Favorites\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n              style: {\n                display: \"block\",\n                margin: \"0 auto\"\n              },\n              onClick: onSubmit,\n              text: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(CreateProfile, \"qa621ofPtqHpgeXVZajLCr/7hv8=\", false, function () {\n  return [useSelector, useStyles, useHistory];\n});\n\n_c = CreateProfile;\nCreateProfile.propTypes = {\n  fetchAllHealthTopics: PropTypes.func,\n  createNewProfile: PropTypes.func,\n  healthTopics: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  healthTopics: state.common.healthTopics\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchAllHealthTopics: () => dispatch(fetchAllHealthTopics()),\n  createNewProfile: (data, history) => dispatch(createNewProfile(data, history))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProfile); // eslint-disable-next-line no-lone-blocks\n\n{\n  /* <Grid item xs={12} md={6}>\n              <Controls.RadioGroup\n                name=\"gender\"\n                label=\"Gender\"\n                value={gender}\n                onChange={handleInputChange}\n                items={genderItems}\n              />\n              <Typography variant=\"subtitle1\">Any Health Issues</Typography>\n              <Grid>\n                <Grid item xs={6} sm={3} md={6} lg={6} xl={6}>\n                  {healthIssues.length > 0 &&\n                    healthIssues.map((issue) => (\n                      <Controls.Checkbox\n                        key={issue.id}\n                        name=\"healthIssues\"\n                        label={issue.name}\n                        value={issue.status}\n                        onChange={(e, issue) => {\n                          console.log(issue);\n                          handleCheckbox(e, issue);\n                        }}\n                      />\n                    ))}\n                </Grid>\n              </Grid>\n               <div>\n                <Controls.Button type=\"submit\" text=\"Submit\" />\n              </div>\n            </Grid> */\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProfile\");","map":{"version":3,"sources":["/Users/elango/Documents/pesto/iota-ninja3-doccords-frontend/src/pages/users/profiles/createProfile.js"],"names":["React","useEffect","useState","PropTypes","connect","useSelector","Paper","makeStyles","Grid","Typography","Controls","useForm","Form","UploadFile","fetchAllHealthTopics","FormControlLabel","Checkbox","FormGroup","createNewProfile","useHistory","Autocomplete","TextField","UploadAvatar","genderItems","id","title","healthIssuesList","name","status","getRelationshipCollection","initialFValues","profileName","email","mobile","age","gender","relationship","cancer","bloodPressure","sugar","covid","useStyles","theme","pageContent","marginTop","margin","spacing","padding","CreateProfile","healthTopics","documentData","setDocumentData","healthTopicId","link","setHealthTopicId","setProfileName","relationshipId","setRelationshipId","setEmail","phone","setPhone","setAge","setGender","healthIssues","setHealthIssues","errors","setErrors","uploadedLink","state","common","healthTopicsList","setHealthTopicsList","classes","history","generateHealthTopics","healthTopicsArr","map","topic","length","onSubmit","document","handleInputChange","e","target","value","handleCheckbox","issue","changedArray","issueSingle","checked","root","option","params","display","propTypes","func","array","mapStateToProps","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect, useSelector } from \"react-redux\";\nimport { Paper, makeStyles, Grid, Typography } from \"@material-ui/core\";\nimport Controls from \"../../../components/Form/controls/Controls\";\nimport { useForm, Form } from \"../../../components/Form/useForm\";\nimport UploadFile from \"components/shared/upload/uploadFile\";\nimport { fetchAllHealthTopics } from \"apiRequests/common\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport { createNewProfile } from \"apiRequests/user\";\nimport { useHistory } from \"react-router-dom\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport UploadAvatar from \"components/shared/upload/uploadAvatar\";\n\nconst genderItems = [\n  { id: \"male\", title: \"Male\" },\n  { id: \"female\", title: \"Female\" },\n  { id: \"other\", title: \"Other\" },\n];\nconst healthIssuesList = [\n  { id: 1, name: \"Cancer\", status: false },\n  { id: 2, name: \"Diabetes\", status: false },\n  { id: 3, name: \"Blood pressure\", status: false },\n  { id: 4, name: \"Covid\", status: true },\n];\n\nconst getRelationshipCollection = () => [\n  { id: 1, title: \"Self\" },\n  { id: 2, title: \"Spouse\" },\n  { id: 3, title: \"Father\" },\n  { id: 4, title: \"Mother\" },\n  { id: 5, title: \"Brother\" },\n  { id: 6, title: \"Sister\" },\n  { id: 7, title: \"Child\" },\n  { id: 8, title: \"Others\" },\n];\n\nconst initialFValues = {\n  id: 0,\n  profileName: \"\",\n  email: \"\",\n  mobile: \"\",\n  age: \"\",\n  gender: \"male\",\n  relationship: 1,\n  // creationDate: new Date(),\n  cancer: false,\n  bloodPressure: false,\n  sugar: false,\n  covid: false,\n};\n\nconst useStyles = makeStyles((theme) => ({\n  pageContent: {\n    marginTop: \"3rem\",\n    margin: theme.spacing(3),\n    padding: theme.spacing(3),\n  },\n}));\n\nconst CreateProfile = ({\n  fetchAllHealthTopics,\n  healthTopics,\n  createNewProfile,\n}) => {\n  const [documentData, setDocumentData] = useState({\n    name: \"\",\n    healthTopicId: \"\",\n    link: \"\",\n  });\n  const [healthTopicId, setHealthTopicId] = useState({});\n  const [profileName, setProfileName] = useState(\"\");\n  const [relationshipId, setRelationshipId] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [healthIssues, setHealthIssues] = useState(healthIssuesList);\n  const [errors, setErrors] = useState({});\n  const uploadedLink = useSelector((state) => state.common.uploadedLink);\n  const [healthTopicsList, setHealthTopicsList] = useState([]);\n  const classes = useStyles();\n  const history = useHistory();\n\n  const generateHealthTopics = () => {\n    const healthTopicsArr = healthTopics.map((topic) => ({\n      id: topic.healthTopicId,\n      title: topic.title,\n    }));\n    return healthTopicsArr;\n  };\n  useEffect(() => {\n    fetchAllHealthTopics();\n    setGender(genderItems[0].id);\n    setRelationshipId(getRelationshipCollection()[0].id);\n  }, []);\n  useEffect(() => {\n    if (healthTopics.length > 0) {\n      setHealthTopicId(healthTopics[0].healthTopicId);\n      setHealthTopicsList(generateHealthTopics());\n    }\n  }, [healthTopics]);\n\n  useEffect(() => {\n    setDocumentData({\n      ...documentData,\n      link: uploadedLink,\n    });\n  }, [uploadedLink]);\n  const onSubmit = () => {\n    createNewProfile(\n      {\n        document: documentData,\n        relationshipId,\n        profileName,\n        age,\n        email,\n        phone,\n        gender,\n        healthIssues,\n      },\n      history\n    );\n  };\n\n  const handleInputChange = (e) => {\n    if (e.target.name === \"document\") {\n      setDocumentData({\n        ...documentData,\n        name: e.target.value,\n      });\n    }\n    if (e.target.name === \"topic\") {\n      setHealthTopicId(e.target.value);\n      setDocumentData({\n        ...documentData,\n        healthTopicId: e.target.value,\n      });\n    }\n    if (e.target.name === \"relationship\") {\n      setRelationshipId(e.target.value);\n    }\n    if (e.target.name === \"profileName\") {\n      setProfileName(e.target.value);\n    }\n    if (e.target.name === \"email\") {\n      setEmail(e.target.value);\n    }\n    if (e.target.name === \"phone\") {\n      setPhone(e.target.value);\n    }\n    if (e.target.name === \"age\") {\n      setAge(e.target.value);\n    }\n    if (e.target.name === \"gender\") {\n      setGender(e.target.value);\n    }\n  };\n  const handleCheckbox = (e, issue) => {\n    let changedArray = [];\n    if (e.target.name === \"healthIssues\") {\n      changedArray = healthIssues.map((issueSingle) => {\n        if (issue.id === issueSingle.id) {\n          issueSingle.status = e.target.checked;\n        }\n        return issueSingle;\n      });\n    }\n    setHealthIssues(changedArray);\n  };\n\n  return (\n    <>\n      <Paper className={classes.pageContent}>\n        <Grid container>\n          <Grid item xs={12} md={12} lg={12} xl={12}>\n            <UploadAvatar />s\n          </Grid>\n        </Grid>\n      </Paper>\n\n      <Paper className={classes.pageContent}>\n        <Form>\n          <Grid container>\n            <Grid item xs={12} md={6}>\n              <Controls.Input\n                name=\"profileName\"\n                label=\"Profile name *\"\n                value={profileName}\n                onChange={handleInputChange}\n                error={errors.profileName}\n              />\n              <Controls.Select\n                name=\"relationship\"\n                label=\"Relationship\"\n                value={relationshipId}\n                onChange={handleInputChange}\n                options={getRelationshipCollection()}\n                error={errors.relationship}\n              />\n              <Controls.Input\n                label=\"Email\"\n                name=\"email\"\n                value={email}\n                onChange={handleInputChange}\n                error={errors.email}\n              />\n              <Controls.Input\n                label=\"Phone\"\n                name=\"phone\"\n                value={phone}\n                onChange={handleInputChange}\n                error={errors.phone}\n              />\n              <Controls.Input\n                name=\"age\"\n                label=\"Age\"\n                value={age}\n                onChange={handleInputChange}\n                error={errors.age}\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Controls.RadioGroup\n                name=\"gender\"\n                label=\"Gender\"\n                value={gender}\n                onChange={handleInputChange}\n                items={genderItems}\n              />\n              {/* <FormGroup column>\n                <Typography variant=\"subtitle1\">\n                  Any known health issue\n                </Typography>\n                {healthIssues.map((issue) => (\n                  <FormControlLabel\n                    key={issue.id}\n                    control={\n                      <Checkbox\n                        checked={issue.status}\n                        onChange={(e) => {\n                          handleCheckbox(e, issue);\n                        }}\n                        name=\"healthIssues\"\n                        color=\"primary\"\n                      />\n                    }\n                    label={issue.name}\n                  />\n                ))}\n              </FormGroup> */}\n              <div className={classes.root}>\n                <Autocomplete\n                  multiple\n                  limitTags={2}\n                  id=\"multiple-limit-tags\"\n                  options={healthIssues}\n                  getOptionLabel={(option) => option.title}\n                  defaultValue={[]}\n                  renderInput={(params) => (\n                    <TextField\n                      {...params}\n                      variant=\"outlined\"\n                      label=\"limitTags\"\n                      placeholder=\"Favorites\"\n                    />\n                  )}\n                />\n              </div>\n\n              <Controls.Button\n                style={{ display: \"block\", margin: \"0 auto\" }}\n                onClick={onSubmit}\n                text=\"Submit\"\n              />\n            </Grid>\n          </Grid>\n        </Form>\n      </Paper>\n    </>\n  );\n};\n\nCreateProfile.propTypes = {\n  fetchAllHealthTopics: PropTypes.func,\n  createNewProfile: PropTypes.func,\n  healthTopics: PropTypes.array,\n};\n\nconst mapStateToProps = (state) => ({\n  healthTopics: state.common.healthTopics,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchAllHealthTopics: () => dispatch(fetchAllHealthTopics()),\n  createNewProfile: (data, history) =>\n    dispatch(createNewProfile(data, history)),\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProfile);\n\n// eslint-disable-next-line no-lone-blocks\n{\n  /* <Grid item xs={12} md={6}>\n              <Controls.RadioGroup\n                name=\"gender\"\n                label=\"Gender\"\n                value={gender}\n                onChange={handleInputChange}\n                items={genderItems}\n              />\n              <Typography variant=\"subtitle1\">Any Health Issues</Typography>\n              <Grid>\n                <Grid item xs={6} sm={3} md={6} lg={6} xl={6}>\n                  {healthIssues.length > 0 &&\n                    healthIssues.map((issue) => (\n                      <Controls.Checkbox\n                        key={issue.id}\n                        name=\"healthIssues\"\n                        label={issue.name}\n                        value={issue.status}\n                        onChange={(e, issue) => {\n                          console.log(issue);\n                          handleCheckbox(e, issue);\n                        }}\n                      />\n                    ))}\n                </Grid>\n              </Grid>\n\n              <div>\n                <Controls.Button type=\"submit\" text=\"Submit\" />\n              </div>\n            </Grid> */\n}\n"]},"metadata":{},"sourceType":"module"}