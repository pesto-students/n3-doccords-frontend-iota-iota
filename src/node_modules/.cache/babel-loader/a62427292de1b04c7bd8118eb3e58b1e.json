{"ast":null,"code":"import axios from \"axios\";\nimport { setAccessToken, setUserDetial, setLoading } from \"redux/actions/user\";\nimport { fetchTokenFromServer, currentUser } from \"context/AuthContext\";\nexport const fetchUserDetail = async dispatch => {\n  const idToken = await fetchTokenFromServer();\n  dispatch(setAccessToken(idToken));\n  console.log(currentUser());\n  const userDetail = await axios.post(\"http://localhost:5001/api/v1/users\", {}, {\n    headers: {\n      Authorization: \"Bearer \" + idToken\n    }\n  });\n  dispatch(setUserDetial(userDetail.data.user));\n  dispatch(setLoading(false));\n};","map":{"version":3,"sources":["/Users/elango/Documents/pesto/iota-ninja3-doccords-frontend/src/apiRequests/user.js"],"names":["axios","setAccessToken","setUserDetial","setLoading","fetchTokenFromServer","currentUser","fetchUserDetail","dispatch","idToken","console","log","userDetail","post","headers","Authorization","data","user"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,aAAzB,EAAwCC,UAAxC,QAA0D,oBAA1D;AACA,SAASC,oBAAT,EAA+BC,WAA/B,QAAkD,qBAAlD;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAOC,QAAP,IAAoB;AACjD,QAAMC,OAAO,GAAG,MAAMJ,oBAAoB,EAA1C;AACAG,EAAAA,QAAQ,CAACN,cAAc,CAACO,OAAD,CAAf,CAAR;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,WAAW,EAAvB;AACA,QAAMM,UAAU,GAAG,MAAMX,KAAK,CAACY,IAAN,CACvB,oCADuB,EAEvB,EAFuB,EAGvB;AACEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYN;AADpB;AADX,GAHuB,CAAzB;AASAD,EAAAA,QAAQ,CAACL,aAAa,CAACS,UAAU,CAACI,IAAX,CAAgBC,IAAjB,CAAd,CAAR;AACAT,EAAAA,QAAQ,CAACJ,UAAU,CAAC,KAAD,CAAX,CAAR;AACD,CAfM","sourcesContent":["import axios from \"axios\";\nimport { setAccessToken, setUserDetial, setLoading } from \"redux/actions/user\";\nimport { fetchTokenFromServer, currentUser } from \"context/AuthContext\";\n\nexport const fetchUserDetail = async (dispatch) => {\n  const idToken = await fetchTokenFromServer();\n  dispatch(setAccessToken(idToken));\n  console.log(currentUser());\n  const userDetail = await axios.post(\n    \"http://localhost:5001/api/v1/users\",\n    {},\n    {\n      headers: {\n        Authorization: \"Bearer \" + idToken,\n      },\n    }\n  );\n  dispatch(setUserDetial(userDetail.data.user));\n  dispatch(setLoading(false));\n};\n"]},"metadata":{},"sourceType":"module"}