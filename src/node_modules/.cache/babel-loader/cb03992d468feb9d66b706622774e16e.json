{"ast":null,"code":"var _jsxFileName = \"/Users/elango/Documents/pesto/iota-ninja3-doccords-frontend/src/pages/users/documents/index.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable react/prop-types */\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Paper, makeStyles, Grid, Button, Typography } from \"@material-ui/core\";\nimport { useDispatch, connect } from \"react-redux\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport UploadFile from \"components/shared/upload/uploadFile\";\nimport { setUploadedImageURL } from \"redux/actions/common\";\nimport { fetchAllHealthTopics } from \"apiRequests/common\";\nimport { fetchAllProfiles } from \"apiRequests/user\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  pageContent: {\n    marginTop: \"3rem\",\n    margin: theme.spacing(3),\n    padding: theme.spacing(3)\n  }\n}));\n\nconst Documents = ({\n  fetchAllHealthTopics,\n  healthTopics,\n  uploadedLink,\n  profiles,\n  fetchAllProfiles\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [document, setDocument] = useState({});\n  const [showSuggested, setShowSuggested] = useState(false);\n  const [selectedHealthTopic, setSelectedHealthTopic] = useState(\"\");\n  const [suggestedTopic, setSuggestedTopic] = useState(\"\");\n  useEffect(() => {\n    fetchAllHealthTopics();\n    fetchAllProfiles();\n  }, []);\n  useEffect(() => {\n    if (healthTopics.length > 0) {\n      setSelectedHealthTopic(healthTopics[0].healthTopicId);\n    }\n  }, [healthTopics]);\n\n  const handleChange = e => {\n    if (e.target.name === \"topic\") {\n      if (e.target.value === \"none\") {\n        setShowSuggested(true);\n      } else {\n        setShowSuggested(false);\n      }\n    }\n\n    if (e.target.name === \"document_name\") {\n      setDocument({ ...document,\n        name: e.target.value\n      });\n    }\n\n    if (e.target.name === \"suggestion_name\") {\n      setSuggestedTopic(e.target.value);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      style: {\n        color: \"#ffffff\",\n        textTransform: \"none\",\n        width: \"fit-content\",\n        margin: \"1rem 1.5rem\"\n      },\n      onClick: () => {\n        history.goBack();\n        dispatch(setUploadedImageURL(\"\"));\n      },\n      children: \"Go back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.pageContent,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: \"Add a Document\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 4,\n          xl: 4,\n          children: /*#__PURE__*/_jsxDEV(UploadFile, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          lg: 8,\n          xl: 8,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            style: {\n              marginTop: \"1rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"simple-select-outlined-label\",\n              children: \"Select profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"simple-select-outlined-label\" // id=\"topic\"\n              ,\n              inputProps: {\n                name: \"profile\",\n                id: \"topic\"\n              },\n              value: selectedHealthTopic,\n              onChange: handleChange,\n              label: \"Health topic\",\n              children: [healthTopics.map(topic => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: topic.healthTopicId,\n                children: topic.title\n              }, topic.healthTopicId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"none\",\n                children: /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"None of above\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"document_name\",\n            label: \"Document name\",\n            error: false,\n            onChange: handleChange,\n            value: document.name // helperText=\"Some important text\"\n            ,\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"outlined\",\n            style: {\n              marginTop: \"1rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"simple-select-outlined-label\",\n              children: \"Related health topic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"simple-select-outlined-label\" // id=\"topic\"\n              ,\n              inputProps: {\n                name: \"topic\",\n                id: \"topic\"\n              },\n              value: selectedHealthTopic,\n              onChange: handleChange,\n              label: \"Health topic\",\n              children: [healthTopics.map(topic => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: topic.healthTopicId,\n                children: topic.title\n              }, topic.healthTopicId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"none\",\n                children: /*#__PURE__*/_jsxDEV(\"em\", {\n                  children: \"None of above\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), showSuggested && /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"suggestion_name\",\n            label: \"Suggest health topic related to the above document\",\n            error: false,\n            value: suggestedTopic // helperText=\"Some important text\"\n            ,\n            variant: \"outlined\",\n            style: {\n              marginTop: \"1rem\"\n            },\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              color: \"#ffffff\",\n              textTransform: \"none\",\n              width: \"fit-content\",\n              margin: \"1rem auto\"\n            } // onClick={() => {\n            //   history.goBack();\n            //   dispatch(setUploadedImageURL(\"\"));\n            // }}\n            ,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Documents, \"CZ97M+ztLhaROqmRsmtvBkaYWVM=\", false, function () {\n  return [useStyles, useDispatch];\n});\n\n_c = Documents;\nDocuments.propTypes = {\n  fetchAllHealthTopics: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  healthTopics: state.common.healthTopics,\n  profiles: state.user.profiles,\n  uploadedLink: state.common.uploadedLink\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchAllHealthTopics: () => dispatch(fetchAllHealthTopics()),\n  fetchAllProfiles: () => dispatch(fetchAllProfiles())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Documents);\n\nvar _c;\n\n$RefreshReg$(_c, \"Documents\");","map":{"version":3,"sources":["/Users/elango/Documents/pesto/iota-ninja3-doccords-frontend/src/pages/users/documents/index.js"],"names":["React","useEffect","useState","PropTypes","Paper","makeStyles","Grid","Button","Typography","useDispatch","connect","TextField","MenuItem","Select","InputLabel","FormControl","UploadFile","setUploadedImageURL","fetchAllHealthTopics","fetchAllProfiles","useStyles","theme","pageContent","marginTop","margin","spacing","padding","Documents","healthTopics","uploadedLink","profiles","classes","dispatch","document","setDocument","showSuggested","setShowSuggested","selectedHealthTopic","setSelectedHealthTopic","suggestedTopic","setSuggestedTopic","length","healthTopicId","handleChange","e","target","name","value","color","textTransform","width","history","goBack","display","flexDirection","id","map","topic","title","propTypes","func","mapStateToProps","state","common","user","mapDispatchToProps"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable react/prop-types */\nimport React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Paper, makeStyles, Grid, Button, Typography } from \"@material-ui/core\";\nimport { useDispatch, connect } from \"react-redux\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport UploadFile from \"components/shared/upload/uploadFile\";\nimport { setUploadedImageURL } from \"redux/actions/common\";\nimport { fetchAllHealthTopics } from \"apiRequests/common\";\nimport { fetchAllProfiles } from \"apiRequests/user\";\n\nconst useStyles = makeStyles((theme) => ({\n  pageContent: {\n    marginTop: \"3rem\",\n    margin: theme.spacing(3),\n    padding: theme.spacing(3),\n  },\n}));\nconst Documents = ({\n  fetchAllHealthTopics,\n  healthTopics,\n  uploadedLink,\n  profiles,\n  fetchAllProfiles,\n}) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [document, setDocument] = useState({});\n  const [showSuggested, setShowSuggested] = useState(false);\n  const [selectedHealthTopic, setSelectedHealthTopic] = useState(\"\");\n  const [suggestedTopic, setSuggestedTopic] = useState(\"\");\n  useEffect(() => {\n    fetchAllHealthTopics();\n    fetchAllProfiles();\n  }, []);\n  useEffect(() => {\n    if (healthTopics.length > 0) {\n      setSelectedHealthTopic(healthTopics[0].healthTopicId);\n    }\n  }, [healthTopics]);\n  const handleChange = (e) => {\n    if (e.target.name === \"topic\") {\n      if (e.target.value === \"none\") {\n        setShowSuggested(true);\n      } else {\n        setShowSuggested(false);\n      }\n    }\n    if (e.target.name === \"document_name\") {\n      setDocument({\n        ...document,\n        name: e.target.value,\n      });\n    }\n    if (e.target.name === \"suggestion_name\") {\n      setSuggestedTopic(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        style={{\n          color: \"#ffffff\",\n          textTransform: \"none\",\n          width: \"fit-content\",\n          margin: \"1rem 1.5rem\",\n        }}\n        onClick={() => {\n          history.goBack();\n          dispatch(setUploadedImageURL(\"\"));\n        }}\n      >\n        Go back\n      </Button>\n      <Paper className={classes.pageContent}>\n        <Typography variant=\"h5\">Add a Document</Typography>\n        <Grid container>\n          <Grid item xs={12} md={6} lg={4} xl={4}>\n            <UploadFile />\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            md={6}\n            lg={8}\n            xl={8}\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n            }}\n          >\n            <FormControl variant=\"outlined\" style={{ marginTop: \"1rem\" }}>\n              <InputLabel id=\"simple-select-outlined-label\">\n                Select profile\n              </InputLabel>\n              <Select\n                labelId=\"simple-select-outlined-label\"\n                // id=\"topic\"\n                inputProps={{\n                  name: \"profile\",\n                  id: \"topic\",\n                }}\n                value={selectedHealthTopic}\n                onChange={handleChange}\n                label=\"Health topic\"\n              >\n                {healthTopics.map((topic) => (\n                  <MenuItem\n                    key={topic.healthTopicId}\n                    value={topic.healthTopicId}\n                  >\n                    {topic.title}\n                  </MenuItem>\n                ))}\n                <MenuItem value=\"none\">\n                  <em>None of above</em>\n                </MenuItem>\n              </Select>\n            </FormControl>\n            <TextField\n              name=\"document_name\"\n              label=\"Document name\"\n              error={false}\n              onChange={handleChange}\n              value={document.name}\n              // helperText=\"Some important text\"\n              variant=\"outlined\"\n            />\n            <FormControl variant=\"outlined\" style={{ marginTop: \"1rem\" }}>\n              <InputLabel id=\"simple-select-outlined-label\">\n                Related health topic\n              </InputLabel>\n              <Select\n                labelId=\"simple-select-outlined-label\"\n                // id=\"topic\"\n                inputProps={{\n                  name: \"topic\",\n                  id: \"topic\",\n                }}\n                value={selectedHealthTopic}\n                onChange={handleChange}\n                label=\"Health topic\"\n              >\n                {healthTopics.map((topic) => (\n                  <MenuItem\n                    key={topic.healthTopicId}\n                    value={topic.healthTopicId}\n                  >\n                    {topic.title}\n                  </MenuItem>\n                ))}\n                <MenuItem value=\"none\">\n                  <em>None of above</em>\n                </MenuItem>\n              </Select>\n            </FormControl>\n            {showSuggested && (\n              <TextField\n                name=\"suggestion_name\"\n                label=\"Suggest health topic related to the above document\"\n                error={false}\n                value={suggestedTopic}\n                // helperText=\"Some important text\"\n                variant=\"outlined\"\n                style={{ marginTop: \"1rem\" }}\n                onChange={handleChange}\n              />\n            )}\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{\n                color: \"#ffffff\",\n                textTransform: \"none\",\n                width: \"fit-content\",\n                margin: \"1rem auto\",\n              }}\n              // onClick={() => {\n              //   history.goBack();\n              //   dispatch(setUploadedImageURL(\"\"));\n              // }}\n            >\n              Submit\n            </Button>\n          </Grid>\n        </Grid>\n      </Paper>\n    </>\n  );\n};\n\nDocuments.propTypes = {\n  fetchAllHealthTopics: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  healthTopics: state.common.healthTopics,\n  profiles: state.user.profiles,\n  uploadedLink: state.common.uploadedLink,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchAllHealthTopics: () => dispatch(fetchAllHealthTopics()),\n  fetchAllProfiles: () => dispatch(fetchAllProfiles()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Documents);\n"]},"metadata":{},"sourceType":"module"}